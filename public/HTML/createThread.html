{{ define "LoggedHeader" }}
<div class="header">
    <a href="/" class="logo"><i class="fa fa-solid fa-user"></i>FORUM</a>
    <div class="header-right">
        <a class="active" href="/">Home</a>
        <a href="/filter?by=liked">Liked Posts</a>
        <a href="/filter?by=myposts">My Posts</a>
        <a href="/newpost">New post</a>
        <a href="/newcategory">New category</a>
        <a href="/api/logout">Log out</a>
        <a href="/profil">Profile</a>
    </div>
</div>
{{ end }}

{{ define "DefaultHeader" }}
<div class="header">
    <a href="/" class="logo"><i class="fa fa-solid fa-user"></i>FORUM</a>
    <div class="header-right">
        <a class="active" href="/">Home</a>
        <a href="/login">Login</a>
        <a href="/register">Register</a>
    </div>
</div>
{{ end }}

{{ $categories := .Categories }}
{{ $icons := .Icons }}

<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kdam+Thmor+Pro&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Create Thread</title>
    <link rel="stylesheet" href="public/CSS/CreateThread.css">
</head>
<body>
    <header>
        {{ if .User.IsLoggedIn }}
            {{ template "LoggedHeader" . }}
        {{ else }}
            {{ template "DefaultHeader" . }}
        {{ end }}
    </header>
    <form class="forminsane" action="/api/createpost" method="post">
        <div class="containerThread">
            <h1> THREAD CREATION</h1>
            <p>Please fill in the following fields to create a new thread</p>
        
        <label the title must be here ></label>
                <input class="titleinput" type="text" name="title" placeholder="title">
            <label> this is the content place </label>
                <textarea class="contentInfo" type="text" name="content" placeholder="content"></textarea>
        <div class="containerThread">
        <div class="contentThread">
                    <label>Categories :</label>
                    {{ range $index, $category := $categories }}
                        <input type="checkbox" name="categories[]" value="{{ $category }}">
                        <label>{{ $category }}</label>
                    {{ end }}
                </div>
            </div>

            <div>
                <input class="button" type="submit" value="">
                <h3>CREATE</h3>
            </div>
        </div>
    </form>
</body>
</html>